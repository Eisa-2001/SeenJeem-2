<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
<title>Ø³ÙŠÙ† Ø¬ÙŠÙ… â€” Ù†Ø³Ø®Ø© Ø³ØªÙˆØ¯ÙŠÙˆ (V5)</title>
<style>
  :root{
    --bg0:#060914;
    --bg1:#0b1430;
    --card:rgba(255,255,255,.06);
    --card2:rgba(255,255,255,.04);
    --stroke:rgba(255,255,255,.10);
    --stroke2:rgba(255,255,255,.16);
    --text:#f2f6ff;
    --muted:#b7c3e6;
    --accent:#67e8f9;
    --accent2:#a78bfa;
    --ok:#34d399;
    --bad:#fb7185;
    --gold:#fbbf24;
    --shadow: 0 20px 60px rgba(0,0,0,.45);
    --radius:18px;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    color:var(--text);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Kufi Arabic", Arial;
    background:
      radial-gradient(1000px 600px at 10% 10%, rgba(103,232,249,.18), transparent 60%),
      radial-gradient(1000px 600px at 90% 20%, rgba(167,139,250,.18), transparent 60%),
      radial-gradient(900px 500px at 50% 110%, rgba(251,191,36,.10), transparent 60%),
      linear-gradient(180deg, var(--bg1), var(--bg0));
  }
  .wrap{max-width:1200px;margin:0 auto;padding:16px 16px 40px}
  header{
    position:sticky; top:0; z-index:10;
    backdrop-filter: blur(10px);
    background: linear-gradient(180deg, rgba(6,9,20,.85), rgba(6,9,20,.55));
    border-bottom:1px solid var(--stroke);
  }
  .bar{
    max-width:1200px;margin:0 auto;padding:14px 16px;
    display:flex; align-items:center; justify-content:space-between; gap:10px; flex-wrap:wrap;
  }
  .brand{display:flex; align-items:center; gap:10px;}
  .logo{
    width:38px;height:38px;border-radius:12px;
    background: linear-gradient(135deg, rgba(103,232,249,.85), rgba(167,139,250,.85));
    box-shadow: 0 12px 30px rgba(103,232,249,.18);
  }
  .title{font-weight:1000; letter-spacing:.2px; font-size:18px;}
  .subtitle{color:var(--muted);font-size:12px;margin-top:2px}

  .btn{
    border:1px solid var(--stroke);
    background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.04));
    color:var(--text);
    padding:10px 12px;
    border-radius:14px;
    cursor:pointer;
    transition: transform .08s ease, border-color .2s ease, filter .2s ease;
    user-select:none;
  }
  .btn:hover{border-color:var(--stroke2); filter:brightness(1.06)}
  .btn:active{transform: translateY(1px) scale(.99)}
  .btnPrimary{
    border-color: rgba(103,232,249,.40);
    background: linear-gradient(180deg, rgba(103,232,249,.16), rgba(103,232,249,.08));
  }
  .btnDanger{
    border-color: rgba(251,113,133,.40);
    background: linear-gradient(180deg, rgba(251,113,133,.14), rgba(251,113,133,.07));
  }
  .btnOk{
    border-color: rgba(52,211,153,.45);
    background: linear-gradient(180deg, rgba(52,211,153,.16), rgba(52,211,153,.08));
  }
  .btnGhost{background:transparent}

  .grid{display:grid; gap:14px}
  @media (min-width: 980px) {.grid{grid-template-columns: 1.4fr .8fr}}

  .card{
    background: linear-gradient(180deg, var(--card), var(--card2));
    border:1px solid var(--stroke);
    border-radius: var(--radius);
    box-shadow: var(--shadow);
    padding:14px;
  }
  .cardHead{display:flex; align-items:flex-start; justify-content:space-between; gap:10px; flex-wrap:wrap}
  .h1{font-weight:1000;font-size:18px}
  .hint{color:var(--muted); font-size:13px}
  .pill{
    padding:7px 10px;
    border-radius:999px;
    border:1px solid var(--stroke);
    color:var(--muted);
    font-size:12px;
    background: rgba(0,0,0,.12);
  }

  .teams{display:grid; gap:12px}
  .team{
    border-radius:16px;
    border:1px solid var(--stroke);
    background: rgba(0,0,0,.14);
    padding:12px;
  }
  .teamTop{display:flex; align-items:center; justify-content:space-between; gap:10px}
  .teamName{display:flex; align-items:center; gap:8px; font-weight:950;}
  .badge{
    width:12px;height:12px;border-radius:6px; display:inline-block;
    background: var(--accent);
    box-shadow: 0 0 0 6px rgba(103,232,249,.10);
  }
  .badge.b2{background: var(--accent2); box-shadow: 0 0 0 6px rgba(167,139,250,.10);}
  .nameInput{
    font: inherit;
    font-weight:950;
    background: transparent;
    border:1px dashed rgba(255,255,255,.18);
    color: var(--text);
    padding:6px 10px;
    border-radius:12px;
    width: 180px;
    max-width: 100%;
  }
  .nameInput:focus{outline:none;border-color:rgba(103,232,249,.55)}
  .score{font-variant-numeric: tabular-nums; font-size:34px; font-weight:1000;}
  .teamBtns{display:flex; gap:8px; flex-wrap:wrap; margin-top:10px}
  .miniBtn{padding:8px 10px;border-radius:12px}

  .cats{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:10px;margin-top:10px}
  .cat{
    display:flex; gap:10px; align-items:center;
    padding:10px;
    border:1px solid var(--stroke);
    border-radius:16px;
    background: rgba(0,0,0,.12);
    cursor:pointer;
    transition: border-color .2s ease, transform .08s ease, filter .2s ease;
    user-select:none;
  }
  .cat:hover{border-color:var(--stroke2); filter:brightness(1.06)}
  .cat:active{transform: translateY(1px) scale(.995)}
  .cat input{width:18px;height:18px}
  .catTitle{font-weight:900}
  .catMeta{color:var(--muted); font-size:12px; margin-top:2px}

  .boardWrap{
    margin-top:14px;
    overflow:auto;
    border-radius: var(--radius);
    border:1px solid var(--stroke);
    background: rgba(0,0,0,.12);
  }
  table{width:100%; border-collapse:separate; border-spacing:0; min-width: 900px}
  th,td{border-left:1px solid var(--stroke); border-bottom:1px solid var(--stroke); padding:0; text-align:center}
  th{position:sticky; top:0; z-index:2; background: rgba(0,0,0,.28); padding:12px 10px; font-weight:1000}
  tr td:first-child, tr th:first-child{border-left:none}
  tr:last-child td{border-bottom:none}
  .cellBtn{
    width:100%; height:66px;
    border:none; cursor:pointer;
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    color: var(--text);
    font-size:22px; font-weight:1000;
    transition: transform .08s ease, filter .2s ease, background .2s ease;
  }
  .cellBtn:hover{filter:brightness(1.10)}
  .cellBtn:active{transform: translateY(1px) scale(.99)}
  .cellUsed .cellBtn{
    cursor:not-allowed;
    color: rgba(255,255,255,.20);
    background: rgba(0,0,0,.22);
  }

  .modal{position:fixed; inset:0; display:none; align-items:center; justify-content:center; padding:14px; background: rgba(0,0,0,.70); z-index:50}
  .modal.show{display:flex}
  .modalCard{width:min(920px,100%); border-radius:22px; border:1px solid var(--stroke); background: linear-gradient(180deg, rgba(12,18,40,.98), rgba(6,9,20,.98)); box-shadow: var(--shadow); padding:14px}
  .modalTop{display:flex; align-items:center; justify-content:space-between; gap:10px}
  .qText{font-size:24px; line-height:1.6; margin:12px 0 8px; font-weight:900}
  .aText{font-size:20px; line-height:1.6; margin:10px 0; color: var(--accent); display:none}
  .aText.show{display:block}
  .actions{display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; align-items:center}
  .timer{font-variant-numeric: tabular-nums}
  .warn{color: var(--muted); font-size:13px; margin-top:8px}

  .toast{position:fixed; left:14px; bottom:14px; z-index:60; display:none; max-width:min(560px,calc(100% - 28px)); padding:10px 12px; border-radius:14px; border:1px solid var(--stroke); background: rgba(12,18,40,.92)}
  .toast.show{display:block}

  .kbd{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace; font-size:12px; padding:2px 6px; border:1px solid var(--stroke); border-radius:8px; color:var(--muted)}
</style>
</head>
<body>
<header>
  <div class="bar">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <div class="title">Ø³ÙŠÙ† Ø¬ÙŠÙ… â€” Ù†Ø³Ø®Ø© Ø³ØªÙˆØ¯ÙŠÙˆ</div>
        <div class="subtitle">ÙˆØ§Ø¬Ù‡Ø© Ø£Ø¬Ù…Ù„ + ØªØ¹Ø¯ÙŠÙ„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚ + ØµØ­ Ø«Ù… Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±ÙŠÙ‚</div>
      </div>
    </div>
    <div style="display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end">
      <button class="btn" id="btnImport">ğŸ“¦ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨Ù†Ùƒ</button>
      <input id="fileInput" type="file" accept="application/json" style="display:none"/>
      <button class="btn" id="btnExport">â¬‡ï¸ ØªØµØ¯ÙŠØ± Ø§Ù„Ø¨Ù†Ùƒ</button>
      <button class="btn btnDanger" id="btnClear">ğŸ§¹ Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</button>
      <button class="btn btnPrimary" id="btnNew">ğŸ” Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
    </div>
  </div>
</header>

<div class="wrap">
  <div class="grid">
    <section class="card">
      <div class="cardHead">
        <div>
          <div class="h1">Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</div>
          <div class="hint">Ø§Ø®ØªØ± Ù…Ù† <b>3</b> Ø¥Ù„Ù‰ <b>6</b> ØªØµÙ†ÙŠÙØ§Øª Ù„ÙƒÙ„ Ù„Ø¹Ø¨Ø©.</div>
        </div>
        <div class="pill">Ø§Ù„Ø¨Ù†Ùƒ: <span id="bankCount"></span> Ø³Ø¤Ø§Ù„ â€” ØªØµÙ†ÙŠÙØ§Øª: <span id="catCount"></span></div>
      </div>

      <div class="cats" id="cats"></div>

      <div class="actions">
        <button class="btn btnPrimary" id="btnStart">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
        <span class="pill" id="selHint"></span>
        <span class="hint">Ø§Ø®ØªØµØ§Ø±: <span class="kbd">Esc</span> Ù„Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ø³Ø¤Ø§Ù„</span>
      </div>

      <div class="boardWrap">
        <table id="board"></table>
      </div>
    </section>

    <aside class="card">
      <div class="cardHead">
        <div>
          <div class="h1">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div>
          <div class="hint">ØªÙ‚Ø¯Ø± ØªØ¹Ø¯Ù‘Ù„ Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„ÙØ±Ù‚ Ù…Ø¨Ø§Ø´Ø±Ø©.</div>
        </div>
        <div class="pill">Ø§Ù„ÙˆÙ‚Øª: <span id="clock">60</span>s</div>
      </div>

      <div class="teams">
        <div class="team">
          <div class="teamTop">
            <div class="teamName">
              <span class="badge"></span>
              <input class="nameInput" id="team1Name" value="Ø§Ù„ÙØ±ÙŠÙ‚ 1" aria-label="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ 1"/>
            </div>
            <div class="score" id="s1">0</div>
          </div>
          <div class="teamBtns">
            <button class="btn miniBtn" id="t1Minus">-200</button>
            <button class="btn miniBtn" id="t1Plus">+200</button>
            <button class="btn btnDanger miniBtn" id="t1Reset">ØªØµÙÙŠØ±</button>
          </div>
        </div>

        <div class="team">
          <div class="teamTop">
            <div class="teamName">
              <span class="badge b2"></span>
              <input class="nameInput" id="team2Name" value="Ø§Ù„ÙØ±ÙŠÙ‚ 2" aria-label="Ø§Ø³Ù… Ø§Ù„ÙØ±ÙŠÙ‚ 2"/>
            </div>
            <div class="score" id="s2">0</div>
          </div>
          <div class="teamBtns">
            <button class="btn miniBtn" id="t2Minus">-200</button>
            <button class="btn miniBtn" id="t2Plus">+200</button>
            <button class="btn btnDanger miniBtn" id="t2Reset">ØªØµÙÙŠØ±</button>
          </div>
        </div>
      </div>

      <div class="hint" style="margin-top:12px;line-height:1.6">
        âœ… Ø§Ø¶ØºØ· <b>ØµØ­</b> ÙˆØ¨Ø¹Ø¯Ù‡Ø§ ÙŠØ·Ù„Ø¹ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙØ±ÙŠÙ‚.<br/>
        âŒ <b>Ø®Ø·Ø£</b> = Ù…Ø§ ÙÙŠ Ù†Ù‚Ø§Ø·.<br/>
        ğŸ§¹ <b>Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</b> ÙŠÙ…Ø³Ø­: Ø§Ù„Ø¨Ù†Ùƒ + Ù…Ù†Ø¹ Ø§Ù„ØªÙƒØ±Ø§Ø± + Ø§Ù„Ø£Ø³Ù…Ø§Ø¡ + Ø§Ù„Ù†Ù‚Ø§Ø·.
      </div>
    </aside>
  </div>
</div>

<div class="modal" id="qModal" role="dialog" aria-modal="true">
  <div class="modalCard">
    <div class="modalTop">
      <div class="pill" id="qMeta">â€”</div>
      <button class="btn btnGhost" id="btnClose">âœ–</button>
    </div>
    <div class="qText" id="qText"></div>
    <div class="aText" id="aText"></div>
    <div class="actions">
      <button class="btn" id="btnShow">ğŸ‘ï¸ Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©</button>
      <span class="pill timer">â±ï¸ <span id="timer">60</span>s</span>
      <button class="btn btnOk" id="btnCorrect">âœ… ØµØ­</button>
      <button class="btn btnDanger" id="btnWrong">âŒ Ø®Ø·Ø£</button>
    </div>
    <div class="warn" id="warn"></div>
  </div>
</div>

<div class="modal" id="tModal" role="dialog" aria-modal="true">
  <div class="modalCard" style="width:min(560px,100%)">
    <div class="modalTop">
      <div class="pill">Ù…Ù†Ùˆ Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ù„ÙŠ Ø¬Ø§ÙˆØ¨ ØµØ­ØŸ</div>
      <button class="btn btnGhost" id="btnTeamClose">âœ–</button>
    </div>
    <div class="actions" style="margin-top:14px">
      <button class="btn btnOk" id="team1Pick">Ø§Ù„ÙØ±ÙŠÙ‚ 1</button>
      <button class="btn btnOk" id="team2Pick">Ø§Ù„ÙØ±ÙŠÙ‚ 2</button>
      <button class="btn" id="teamCancel">Ø¥Ù„ØºØ§Ø¡</button>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
const DEFAULT_BANK = [{"cat": "Ø³Ø¨ÙŠØ³ØªÙˆÙ†", "pts": 200, "q": "ÙÙŠ Â«Ø¹Ù‡Ø¯ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡Â»ØŒ Ù…Ø§ Ø§Ø³Ù… ØµØ¯ÙŠÙ‚ Ø±ÙˆÙ…ÙŠÙˆ Ø§Ù„Ù…Ù‚Ø±Ø¨ØŸ", "a": "Ø£Ù„ÙØ±ÙŠØ¯Ùˆ"}, {"cat": "Ø³Ø¨ÙŠØ³ØªÙˆÙ†", "pts": 200, "q": "ÙÙŠ Â«Ø³Ø§Ù„ÙŠÂ»ØŒ Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙØªØ§Ø© Ø§Ù„Ù…ØªØ³Ù„Ø·Ø© Ø§Ù„ØªÙŠ ÙƒØ§Ù†Øª ØªØ¤Ø°ÙŠ Ø³Ø§Ù„ÙŠØŸ", "a": "Ù„Ø§ÙÙŠÙ†ÙŠØ§"}, {"cat": "Ø³Ø¨ÙŠØ³ØªÙˆÙ†", "pts": 400, "q": "ÙÙŠ Â«Ù‡Ø§ÙŠØ¯ÙŠÂ»ØŒ Ù…Ø§ Ø§Ø³Ù… ØµØ¯ÙŠÙ‚Ø© Ù‡Ø§ÙŠØ¯ÙŠ ÙÙŠ Ø§Ù„Ù…Ø¯ÙŠÙ†Ø©ØŸ", "a": "ÙƒÙ„Ø§Ø±Ø§"}, {"cat": "Ø³Ø¨ÙŠØ³ØªÙˆÙ†", "pts": 400, "q": "ÙÙŠ Â«Ø¹Ù‡Ø¯ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡Â»ØŒ Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø±Ø¬Ù„ Ø§Ù„Ø°ÙŠ ÙƒØ§Ù† ÙŠØ³ØªØºÙ„ Ø§Ù„Ø£Ø·ÙØ§Ù„ØŸ", "a": "Ù„ÙˆÙŠØ¬ÙŠ"}, {"cat": "Ø³Ø¨ÙŠØ³ØªÙˆÙ†", "pts": 600, "q": "ÙÙŠ Â«Ø³Ø§Ù„ÙŠÂ»ØŒ Ù…Ø§ Ø§Ø³Ù… Ù…Ø¯Ø±Ø³Ø© Ø³Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠØ©ØŸ", "a": "Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø¢Ù†Ø³Ø© Ù…Ù†Ø´Ù†"}, {"cat": "Ø³Ø¨ÙŠØ³ØªÙˆÙ†", "pts": 600, "q": "ÙÙŠ Â«Ø§Ù„Ø­Ø¯ÙŠÙ‚Ø© Ø§Ù„Ø³Ø±ÙŠØ©Â»ØŒ Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø·ÙÙ„Ø© Ø¨Ø·Ù„Ø© Ø§Ù„Ù‚ØµØ©ØŸ", "a": "Ù…Ø§Ø±ÙŠ"}, {"cat": "Naruto", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ù‚Ø±ÙŠØ© Ù†Ø§Ø±ÙˆØªÙˆØŸ", "a": "ÙƒÙˆÙ†ÙˆÙ‡Ø§"}, {"cat": "Naruto", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… ÙˆØ­Ø´ Ø§Ù„Ø°ÙŠÙˆÙ„ Ø§Ù„ØªØ³Ø¹Ø© Ø¯Ø§Ø®Ù„ Ù†Ø§Ø±ÙˆØªÙˆØŸ", "a": "Ø§Ù„ÙƒÙŠÙˆØ¨ÙŠ"}, {"cat": "Naruto", "pts": 400, "q": "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‡ÙˆÙƒØ§Ø¬ÙŠ Ø§Ù„Ø±Ø§Ø¨Ø¹ØŸ", "a": "Ù…ÙŠÙ†Ø§ØªÙˆ Ù†Ø§Ù…ÙŠÙƒØ§Ø²ÙŠ"}, {"cat": "Naruto", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø¹Ø´ÙŠØ±Ø© Ø³Ø§Ø³ÙƒÙŠØŸ", "a": "Ø£ÙˆØªØ´ÙŠÙ‡Ø§"}, {"cat": "Naruto", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ù†Ø¸Ù…Ø© Ø§Ù„ØªÙŠ ÙŠÙ†ØªÙ…ÙŠ Ù„Ù‡Ø§ Ø¥ÙŠØªØ§ØªØ´ÙŠØŸ", "a": "Ø§Ù„Ø£ÙƒØ§ØªØ³ÙˆÙƒÙŠ"}, {"cat": "Naruto", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… ØªÙ‚Ù†ÙŠØ© Ù…ÙŠÙ†Ø§ØªÙˆ Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„ÙÙˆØ±ÙŠØŸ", "a": "Ø§Ù„Ø±Ø§ÙŠØ¬ÙŠÙ† Ø§Ù„Ø·Ø§Ø¦Ø±"}, {"cat": "One Piece", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø·Ø§Ù‚Ù… Ù„ÙˆÙÙŠØŸ", "a": "Ù‚Ø±Ø§ØµÙ†Ø© Ù‚Ø¨Ø¹Ø© Ø§Ù„Ù‚Ø´"}, {"cat": "One Piece", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø£Ø® Ù„ÙˆÙÙŠ Ø§Ù„Ù†Ø§Ø±ÙŠØŸ", "a": "Ø¥ÙŠØ³"}, {"cat": "One Piece", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ø·Ø§Ù‚Ù… Ù‚Ø¨Ø¹Ø© Ø§Ù„Ù‚Ø´ØŸ", "a": "ØºÙˆÙŠÙ†Øº Ù…ÙŠØ±ÙŠ"}, {"cat": "One Piece", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø·Ø¨Ø§Ø® ÙÙŠ Ø·Ø§Ù‚Ù… Ù‚Ø¨Ø¹Ø© Ø§Ù„Ù‚Ø´ØŸ", "a": "Ø³Ø§Ù†Ø¬ÙŠ"}, {"cat": "One Piece", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø­ÙƒÙˆÙ…Ø© Ø§Ù„ØªÙŠ ØªØ¶Ù… Ø±ÙˆØ¨ Ù„ÙˆØªØ´ÙŠØŸ", "a": "CP9"}, {"cat": "One Piece", "pts": 600, "q": "Ù…Ø§ Ù„Ù‚Ø¨ Ø¯ÙˆÙ†ÙƒÙŠÙ‡ÙˆØªÙŠ Ø¯ÙˆÙÙ„Ø§Ù…ÙŠÙ†ØºÙˆØŸ", "a": "Ø§Ù„Ø¬ÙˆÙƒØ±"}, {"cat": "Attack on Titan", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„ÙÙŠÙ„Ù‚ Ø§Ù„Ø°ÙŠ ÙŠØ±ØªØ¯ÙŠ Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„Ù…Ø¬Ù†Ù‘Ø­ØŸ", "a": "ÙÙŠÙ„Ù‚ Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹"}, {"cat": "Attack on Titan", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… ØµØ¯ÙŠÙ‚Ø© Ø¥ÙŠØ±ÙŠÙ† Ø§Ù„Ù…Ù‚Ø±Ø¨Ø©ØŸ", "a": "Ù…ÙŠÙƒØ§Ø³Ø§ Ø£ÙƒÙŠØ±Ù…Ø§Ù†"}, {"cat": "Attack on Titan", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ù‚ Ø§Ù„Ø°ÙŠ ÙŠÙ…ØªÙ„Ùƒ Ø¯Ø±Ø¹Ù‹Ø§ØŸ", "a": "Ø§Ù„Ø¹Ù…Ù„Ø§Ù‚ Ø§Ù„Ù…Ø¯Ø±Ù‘Ø¹"}, {"cat": "Attack on Titan", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ù…Ø¯ÙŠÙ†Ø© Ø¥ÙŠØ±ÙŠÙ† ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©ØŸ", "a": "Ø´ÙŠØºØ§Ù†Ø´ÙŠÙ†Ø§"}, {"cat": "Attack on Titan", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© Ø¯Ø§Ø®Ù„ Ø§Ù„Ø£Ø³ÙˆØ§Ø±ØŸ", "a": "Ø¹Ø§Ø¦Ù„Ø© Ø±ÙŠØ³"}, {"cat": "Attack on Titan", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ù‚Ø§Ø¦Ø¯ ÙÙŠÙ„Ù‚ Ø§Ù„Ø§Ø³ØªØ·Ù„Ø§Ø¹ Ø§Ù„Ø£Ø´Ù‡Ø±ØŸ", "a": "Ø¥Ø±ÙÙŠÙ† Ø³Ù…ÙŠØ«"}, {"cat": "Bleach", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø¨Ø·Ù„ BleachØŸ", "a": "Ø¥ÙŠØªØ´ÙŠØºÙˆ ÙƒÙˆØ±ÙˆØ³Ø§ÙƒÙŠ"}, {"cat": "Bleach", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø³Ù„Ø§Ø­ Ø§Ù„Ø´ÙŠÙ†ÙŠØºØ§Ù…ÙŠ ÙÙŠ BleachØŸ", "a": "Ø²Ø§Ù†Ø¨Ø§ÙƒØªÙˆ"}, {"cat": "Bleach", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø¹Ø§Ù„Ù… Ø§Ù„Ø£Ø±ÙˆØ§Ø­ ÙÙŠ BleachØŸ", "a": "Ù…Ø¬ØªÙ…Ø¹ Ø§Ù„Ø£Ø±ÙˆØ§Ø­"}, {"cat": "Bleach", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø±ÙÙŠÙ‚Ø© Ø¥ÙŠØªØ´ÙŠØºÙˆ Ø§Ù„Ø´ÙŠÙ†ÙŠØºØ§Ù…ÙŠØŸ", "a": "Ø±ÙˆÙƒÙŠØ§ ÙƒÙˆØªØ´ÙŠÙƒÙŠ"}, {"cat": "Bleach", "pts": 600, "q": "Ù…Ù† Ù‡Ùˆ Â«Ù…Ù„Ùƒ Ø§Ù„ÙƒÙˆÙŠÙ†Ø³ÙŠÂ»ØŸ", "a": "ÙŠÙˆÙ‡Ø§ Ø¨Ø§Ø®"}, {"cat": "Bleach", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… ÙƒØ§Ø¨ØªÙ† Ø§Ù„ÙØ±Ù‚Ø© 6ØŸ", "a": "Ø¨ÙŠØ§ÙƒÙˆÙŠØ§ ÙƒÙˆØªØ´ÙŠÙƒÙŠ"}, {"cat": "Ø£Ù„Ø¹Ø§Ø¨", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø·ÙˆÙ‘Ø±Ø© Ù„Ø³Ù„Ø³Ù„Ø© The Last of UsØŸ", "a": "Naughty Dog"}, {"cat": "Ø£Ù„Ø¹Ø§Ø¨", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„ØªÙŠ Ø·ÙˆØ±Øª MinecraftØŸ", "a": "Mojang"}, {"cat": "Ø£Ù„Ø¹Ø§Ø¨", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ÙÙŠ GTA: San AndreasØŸ", "a": "Los Santos"}, {"cat": "Ø£Ù„Ø¹Ø§Ø¨", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„ØªÙŠ ØªØ·ÙˆÙ‘Ø± EA FC (FIFA Ø³Ø§Ø¨Ù‚Ù‹Ø§)ØŸ", "a": "EA Sports"}, {"cat": "Ø£Ù„Ø¹Ø§Ø¨", "pts": 600, "q": "ÙÙŠ Ø£ÙŠ Ù„Ø¹Ø¨Ø© Ø¸Ù‡Ø± Ø·ÙˆØ± Zombies Ù„Ø£ÙˆÙ„ Ù…Ø±Ø© ÙÙŠ Call of DutyØŸ", "a": "Call of Duty: World at War"}, {"cat": "Ø£Ù„Ø¹Ø§Ø¨", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ ÙÙŠ Ø³Ù„Ø³Ù„Ø© The Legend of ZeldaØŸ", "a": "Link"}, {"cat": "Ø£ÙÙ„Ø§Ù…", "pts": 200, "q": "Ù…Ù† Ù‡Ùˆ Ù…Ø®Ø±Ø¬ ÙÙŠÙ„Ù… InceptionØŸ", "a": "ÙƒØ±ÙŠØ³ØªÙˆÙØ± Ù†ÙˆÙ„Ø§Ù†"}, {"cat": "Ø£ÙÙ„Ø§Ù…", "pts": 200, "q": "ÙÙŠ Ø£ÙŠ Ø³Ù„Ø³Ù„Ø© Ø£ÙÙ„Ø§Ù… ØªØ¸Ù‡Ø± Ø´Ø®ØµÙŠØ© Ø¬Ø§Ùƒ Ø³Ø¨Ø§Ø±ÙˆØŸ", "a": "Pirates of the Caribbean"}, {"cat": "Ø£ÙÙ„Ø§Ù…", "pts": 400, "q": "ÙÙŠ Ø£ÙŠ Ø³Ù†Ø© ØµØ¯Ø± ÙÙŠÙ„Ù… The MatrixØŸ", "a": "1999"}, {"cat": "Ø£ÙÙ„Ø§Ù…", "pts": 400, "q": "Ù…Ù† Ù‡Ùˆ Ù…Ø®Ø±Ø¬ ÙÙŠÙ„Ù… TitanicØŸ", "a": "Ø¬ÙŠÙ…Ø³ ÙƒØ§Ù…ÙŠØ±ÙˆÙ†"}, {"cat": "Ø£ÙÙ„Ø§Ù…", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø³ÙÙŠÙ†Ø© Ø§Ù„ÙØ¶Ø§Ø¦ÙŠØ© ÙÙŠ ÙÙŠÙ„Ù… Alien (1979)ØŸ", "a": "Nostromo"}, {"cat": "Ø£ÙÙ„Ø§Ù…", "pts": 600, "q": "ÙÙŠ Ø£ÙŠ Ø³Ù†Ø© ØµØ¯Ø± ÙÙŠÙ„Ù… The GodfatherØŸ", "a": "1972"}, {"cat": "Ù…Ø³Ù„Ø³Ù„Ø§Øª", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ø£Ø­Ø¯Ø§Ø«Ù‡ Ø­ÙˆÙ„ ÙˆØ§Ù„ØªØ± ÙˆØ§ÙŠØªØŸ", "a": "Breaking Bad"}, {"cat": "Ù…Ø³Ù„Ø³Ù„Ø§Øª", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø³Ù„Ø³Ù„ Ø§Ù„Ø°ÙŠ ØªØ¯ÙˆØ± Ø£Ø­Ø¯Ø§Ø«Ù‡ ÙÙŠ ÙˆÙŠØ³ØªØ±ÙˆØ³ØŸ", "a": "Game of Thrones"}, {"cat": "Ù…Ø³Ù„Ø³Ù„Ø§Øª", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ù…Ù‚Ù‡Ù‰ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ ÙÙŠ FriendsØŸ", "a": "Central Perk"}, {"cat": "Ù…Ø³Ù„Ø³Ù„Ø§Øª", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙŠ ØªØ¯ÙˆØ± ÙÙŠÙ‡Ø§ Ø£Ø­Ø¯Ø§Ø« Peaky BlindersØŸ", "a": "Ø¨Ø±Ù…Ù†ØºÙ‡Ø§Ù…"}, {"cat": "Ù…Ø³Ù„Ø³Ù„Ø§Øª", "pts": 600, "q": "Ù…Ø§ Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ù„Ø´Ø®ØµÙŠØ© The ProfessorØŸ", "a": "Ø³ÙŠØ±Ø®ÙŠÙˆ Ù…Ø§Ø±ÙƒÙŠÙ†Ø§"}, {"cat": "Ù…Ø³Ù„Ø³Ù„Ø§Øª", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø­Ø§ÙƒÙ…Ø© Ø§Ù„ØªÙŠ Ø´Ø¹Ø§Ø±Ù‡Ø§ Ø§Ù„ØªÙ†ÙŠÙ† ÙÙŠ Game of ThronesØŸ", "a": "ØªØ§Ø±ØºØ§Ø±ÙŠØ§Ù†"}, {"cat": "ÙƒØ±Ø© Ù‚Ø¯Ù…", "pts": 200, "q": "Ù…Ù† ÙØ§Ø² Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2010ØŸ", "a": "Ø¥Ø³Ø¨Ø§Ù†ÙŠØ§"}, {"cat": "ÙƒØ±Ø© Ù‚Ø¯Ù…", "pts": 200, "q": "Ø£ÙŠ Ù…Ù†ØªØ®Ø¨ ÙØ§Ø² Ø¨ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2022ØŸ", "a": "Ø§Ù„Ø£Ø±Ø¬Ù†ØªÙŠÙ†"}, {"cat": "ÙƒØ±Ø© Ù‚Ø¯Ù…", "pts": 400, "q": "Ø£ÙŠ Ù†Ø§Ø¯Ù ÙØ§Ø² Ø¨Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ 2012ØŸ", "a": "ØªØ´ÙŠÙ„Ø³ÙŠ"}, {"cat": "ÙƒØ±Ø© Ù‚Ø¯Ù…", "pts": 400, "q": "Ø£ÙŠ Ù…Ù†ØªØ®Ø¨ Ø£Ø®Ø±Ø¬ Ø§Ù„Ø¨Ø±Ø§Ø²ÙŠÙ„ Ù…Ù† ÙƒØ£Ø³ Ø§Ù„Ø¹Ø§Ù„Ù… 2010ØŸ", "a": "Ù‡ÙˆÙ„Ù†Ø¯Ø§"}, {"cat": "ÙƒØ±Ø© Ù‚Ø¯Ù…", "pts": 600, "q": "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‡Ø¯Ø§Ù Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ø¯ÙˆØ±ÙŠ Ø£Ø¨Ø·Ø§Ù„ Ø£ÙˆØ±ÙˆØ¨Ø§ØŸ", "a": "ÙƒØ±ÙŠØ³ØªÙŠØ§Ù†Ùˆ Ø±ÙˆÙ†Ø§Ù„Ø¯Ùˆ"}, {"cat": "ÙƒØ±Ø© Ù‚Ø¯Ù…", "pts": 600, "q": "ÙƒÙ… Ù…Ø¯Ø© Ø§Ù„Ø´ÙˆØ· Ø§Ù„Ø¥Ø¶Ø§ÙÙŠ ÙƒØ§Ù…Ù„Ù‹Ø§ ÙÙŠ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…ØŸ", "a": "30 Ø¯Ù‚ÙŠÙ‚Ø©"}, {"cat": "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ù†Ø¸Ø§Ù… ØªØ´ØºÙŠÙ„ Ù‡ÙˆØ§ØªÙ iPhoneØŸ", "a": "iOS"}, {"cat": "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "pts": 200, "q": "Ù…Ø§ Ù…Ø¹Ù†Ù‰ Ø§Ø®ØªØµØ§Ø± CPUØŸ", "a": "ÙˆØ­Ø¯Ø© Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ©"}, {"cat": "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…Ø·ÙˆÙ‘Ø±Ø© Ù„Ù…ØªØµÙØ­ ChromeØŸ", "a": "Google"}, {"cat": "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø®Ø¯Ù…Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø³Ø­Ø§Ø¨ÙŠ Ù…Ù† GoogleØŸ", "a": "Google Drive"}, {"cat": "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø°ÙŠ ÙŠØ¯ÙŠØ± Ø£Ø³Ù…Ø§Ø¡ Ø§Ù„Ù…ÙˆØ§Ù‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø¥Ù†ØªØ±Ù†ØªØŸ", "a": "DNS"}, {"cat": "ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ù„ØºØ© Ø§Ù„Ø¨Ø±Ù…Ø¬Ø© Ø§Ù„ØªÙŠ ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§ÙØ§Øª (Indentation) Ø¨Ø´ÙƒÙ„ Ø£Ø³Ø§Ø³ÙŠØŸ", "a": "Python"}, {"cat": "Ø¹Ù„ÙˆÙ…", "pts": 200, "q": "Ù…Ø§ Ø±Ù…Ø² Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠØŸ", "a": "H2O"}, {"cat": "Ø¹Ù„ÙˆÙ…", "pts": 200, "q": "Ù…Ø§ Ø§Ù„ÙƒÙˆÙƒØ¨ Ø§Ù„Ø£Ù‚Ø±Ø¨ Ù„Ù„Ø´Ù…Ø³ØŸ", "a": "Ø¹Ø·Ø§Ø±Ø¯"}, {"cat": "Ø¹Ù„ÙˆÙ…", "pts": 400, "q": "Ù…Ø§ ÙˆØ­Ø¯Ø© Ù‚ÙŠØ§Ø³ Ø§Ù„ØªÙŠØ§Ø± Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØŸ", "a": "Ø§Ù„Ø£Ù…Ø¨ÙŠØ±"}, {"cat": "Ø¹Ù„ÙˆÙ…", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¹Ø¶Ù„Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„Ø© Ø¹Ù† Ø§Ù„ØªÙ†ÙØ³ØŸ", "a": "Ø§Ù„Ø­Ø¬Ø§Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø²"}, {"cat": "Ø¹Ù„ÙˆÙ…", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¬Ø³ÙŠÙ… Ø°Ùˆ Ø§Ù„Ø´Ø­Ù†Ø© Ø§Ù„Ø³Ø§Ù„Ø¨Ø© ÙÙŠ Ø§Ù„Ø°Ø±Ø©ØŸ", "a": "Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†"}, {"cat": "Ø¹Ù„ÙˆÙ…", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø§Ù„ØªÙŠ ØªØªØ­ÙˆÙ„ ÙÙŠÙ‡Ø§ Ø§Ù„Ù…Ø§Ø¯Ø© Ù…Ù† Ø³Ø§Ø¦Ù„ Ø¥Ù„Ù‰ ØºØ§Ø²ØŸ", "a": "Ø§Ù„ØªØ¨Ø®Ø±"}, {"cat": "Ø¥Ø³Ù„Ø§Ù…ÙŠ", "pts": 200, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø±ÙƒØ§Ù† Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ØŸ", "a": "5"}, {"cat": "Ø¥Ø³Ù„Ø§Ù…ÙŠ", "pts": 200, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„ØµÙ„ÙˆØ§Øª Ø§Ù„Ù…ÙØ±ÙˆØ¶Ø© ÙÙŠ Ø§Ù„ÙŠÙˆÙ…ØŸ", "a": "5"}, {"cat": "Ø¥Ø³Ù„Ø§Ù…ÙŠ", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø´Ù‡Ø± Ø§Ù„ØµÙŠØ§Ù… Ø¹Ù†Ø¯ Ø§Ù„Ù…Ø³Ù„Ù…ÙŠÙ†ØŸ", "a": "Ø±Ù…Ø¶Ø§Ù†"}, {"cat": "Ø¥Ø³Ù„Ø§Ù…ÙŠ", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø²ÙƒØ§Ø© Ø§Ù„ØªÙŠ ØªÙØ®Ø±Ø¬ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø±Ù…Ø¶Ø§Ù†ØŸ", "a": "Ø²ÙƒØ§Ø© Ø§Ù„ÙØ·Ø±"}, {"cat": "Ø¥Ø³Ù„Ø§Ù…ÙŠ", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù„ÙŠÙ„Ø© Ø§Ù„ØªÙŠ Ù‡ÙŠ Ø®ÙŠØ± Ù…Ù† Ø£Ù„Ù Ø´Ù‡Ø±ØŸ", "a": "Ù„ÙŠÙ„Ø© Ø§Ù„Ù‚Ø¯Ø±"}, {"cat": "Ø¥Ø³Ù„Ø§Ù…ÙŠ", "pts": 600, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø±ÙƒØ¹Ø§Øª ØµÙ„Ø§Ø© Ø§Ù„ÙØ¬Ø±ØŸ", "a": "Ø±ÙƒØ¹ØªØ§Ù†"}, {"cat": "Ù‚Ø±Ø¢Ù†", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø£ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…ØµØ­ÙØŸ", "a": "Ø§Ù„ÙØ§ØªØ­Ø©"}, {"cat": "Ù‚Ø±Ø¢Ù†", "pts": 200, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø³ÙˆØ± Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", "a": "114"}, {"cat": "Ù‚Ø±Ø¢Ù†", "pts": 400, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…ØŸ", "a": "30"}, {"cat": "Ù‚Ø±Ø¢Ù†", "pts": 400, "q": "Ù…Ø§ Ø£Ø·ÙˆÙ„ Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù‚Ø±Ø¢Ù†ØŸ", "a": "Ø§Ù„Ø¨Ù‚Ø±Ø©"}, {"cat": "Ù‚Ø±Ø¢Ù†", "pts": 600, "q": "Ù…Ø§ Ø§Ù„Ø³ÙˆØ±Ø© Ø§Ù„ØªÙŠ Ø¨Ø¯Ø£Øª Ø¨Ù€ Â«ØªÙØ¨ÙÙ‘ØªÙ’Â»ØŸ", "a": "Ø§Ù„Ù…Ø³Ø¯"}, {"cat": "Ù‚Ø±Ø¢Ù†", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø¢Ø®Ø± Ø³ÙˆØ±Ø© ÙÙŠ Ø§Ù„Ù…ØµØ­ÙØŸ", "a": "Ø§Ù„Ù†Ø§Ø³"}, {"cat": "Ø£Ø¯Ø¨", "pts": 200, "q": "Ù…Ù† Ù‚Ø§Ø¦Ù„ Ø¨ÙŠØª: Â«Ø¹Ù„Ù‰ Ù‚Ø¯Ø± Ø£Ù‡Ù„ Ø§Ù„Ø¹Ø²Ù… ØªØ£ØªÙŠ Ø§Ù„Ø¹Ø²Ø§Ø¦Ù…Â»ØŸ", "a": "Ø§Ù„Ù…ØªÙ†Ø¨ÙŠ"}, {"cat": "Ø£Ø¯Ø¨", "pts": 200, "q": "Ø£ÙƒÙ…Ù„: Â«ÙˆÙ…Ù† ÙŠØªÙ‡ÙŠØ¨ ØµØ¹ÙˆØ¯ Ø§Ù„Ø¬Ø¨Ø§Ù„â€¦Â»", "a": "ÙŠØ¹Ø´ Ø£Ø¨Ø¯ Ø§Ù„Ø¯Ù‡Ø± Ø¨ÙŠÙ† Ø§Ù„Ø­ÙØ±"}, {"cat": "Ø£Ø¯Ø¨", "pts": 400, "q": "Ù…Ù† Ù…Ø¤Ù„Ù Â«Ù…ÙˆØ³Ù… Ø§Ù„Ù‡Ø¬Ø±Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø´Ù…Ø§Ù„Â»ØŸ", "a": "Ø§Ù„Ø·ÙŠØ¨ ØµØ§Ù„Ø­"}, {"cat": "Ø£Ø¯Ø¨", "pts": 400, "q": "Ù…Ù† Ù…Ø¤Ù„Ù Â«Ø±Ø¬Ø§Ù„ ÙÙŠ Ø§Ù„Ø´Ù…Ø³Â»ØŸ", "a": "ØºØ³Ø§Ù† ÙƒÙ†ÙØ§Ù†ÙŠ"}, {"cat": "Ø£Ø¯Ø¨", "pts": 600, "q": "Ù…Ù† Ù…Ø¤Ù„Ù ÙƒØªØ§Ø¨ Â«Ø§Ù„Ø£ÙŠØ§Ù…Â»ØŸ", "a": "Ø·Ù‡ Ø­Ø³ÙŠÙ†"}, {"cat": "Ø£Ø¯Ø¨", "pts": 600, "q": "Ù…Ù† ØµØ§Ø­Ø¨ Â«Ø±Ø³Ø§Ù„Ø© Ø§Ù„ØºÙØ±Ø§Ù†Â»ØŸ", "a": "Ø£Ø¨Ùˆ Ø§Ù„Ø¹Ù„Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø±ÙŠ"}, {"cat": "Ø³ÙŠØ§Ø±Ø§Øª", "pts": 200, "q": "Ù…Ø§ Ù…Ø¹Ù†Ù‰ ABS ÙÙŠ Ø§Ù„Ø³ÙŠØ§Ø±Ø§ØªØŸ", "a": "Ù…Ø§Ù†Ø¹ Ø§Ù†ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙƒØ§Ø¨Ø­"}, {"cat": "Ø³ÙŠØ§Ø±Ø§Øª", "pts": 200, "q": "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ø§Ù„Ø°ÙŠ ÙŠÙØ¹Ø±Ù Ø¨Ù€ Diesel Ø¨Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŸ", "a": "Ø¯ÙŠØ²Ù„"}, {"cat": "Ø³ÙŠØ§Ø±Ø§Øª", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ù†Ø¸Ø§Ù… Ù…Ù†Ø¹ Ø§Ù„Ø§Ù†Ø²Ù„Ø§Ù‚ Ø§Ù„Ø´Ø§Ø¦Ø¹ Ø§Ø®ØªØµØ§Ø±Ù‡ ESCØŸ", "a": "Ø§Ù„Ø«Ø¨Ø§Øª Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"}, {"cat": "Ø³ÙŠØ§Ø±Ø§Øª", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ù†Ø§Ù‚Ù„ Ø§Ù„Ø­Ø±ÙƒØ© Ø§Ù„Ø£ÙˆØªÙˆÙ…Ø§ØªÙŠÙƒÙŠ Ø§Ù„Ù…Ø³ØªÙ…Ø± Ø§Ù„Ø§Ø®ØªØµØ§Ø± CVTØŸ", "a": "Ù†Ø§Ù‚Ù„ Ø­Ø±ÙƒØ© Ù…ØªØºÙŠØ± Ø¨Ø§Ø³ØªÙ…Ø±Ø§Ø±"}, {"cat": "Ø³ÙŠØ§Ø±Ø§Øª", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ø´Ø§Ø­Ù† Ø§Ù„Ø°ÙŠ ÙŠØ¹Ø·ÙŠ ØªÙŠØ§Ø±Ù‹Ø§ Ù…Ø³ØªÙ…Ø±Ù‹Ø§ Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©ØŸ", "a": "Ø´Ø§Ø­Ù† DC"}, {"cat": "Ø³ÙŠØ§Ø±Ø§Øª", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ù…Ù†ÙØ° Ø§Ù„Ø´Ø­Ù† Ø§Ù„Ø´Ø§Ø¦Ø¹ ÙÙŠ Ø£Ù…Ø±ÙŠÙƒØ§ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©ØŸ", "a": "NACS"}, {"cat": "Ø±ÙŠØ§Ø¶Ø© Ø¹Ø§Ù…Ø©", "pts": 200, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø¯Ø§Ø®Ù„ Ø§Ù„Ù…Ù„Ø¹Ø¨ Ù„ÙƒÙ„ ÙØ±ÙŠÙ‚ ÙÙŠ ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø©ØŸ", "a": "5"}, {"cat": "Ø±ÙŠØ§Ø¶Ø© Ø¹Ø§Ù…Ø©", "pts": 200, "q": "ÙƒÙ… Ø·ÙˆÙ„ Ø´ÙˆØ· ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ø§Ù„Ø±Ø³Ù…ÙŠØŸ", "a": "45 Ø¯Ù‚ÙŠÙ‚Ø©"}, {"cat": "Ø±ÙŠØ§Ø¶Ø© Ø¹Ø§Ù…Ø©", "pts": 400, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø§Ù„Ø­Ù„Ù‚Ø§Øª Ø§Ù„Ø£ÙˆÙ„Ù…Ø¨ÙŠØ© ÙÙŠ Ø§Ù„Ø´Ø¹Ø§Ø±ØŸ", "a": "5"}, {"cat": "Ø±ÙŠØ§Ø¶Ø© Ø¹Ø§Ù…Ø©", "pts": 400, "q": "Ù…Ø§ Ø§Ø³Ù… Ø±ÙŠØ§Ø¶Ø© Ø³Ø¨Ø§Ù‚ 100 Ù…ØªØ± Ø¶Ù…Ù† Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù‚ÙˆÙ‰ØŸ", "a": "Ø§Ù„Ø¹Ø¯Ùˆ"}, {"cat": "Ø±ÙŠØ§Ø¶Ø© Ø¹Ø§Ù…Ø©", "pts": 600, "q": "ÙƒÙ… Ù…Ø¯Ø© Ù…Ø¨Ø§Ø±Ø§Ø© ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø© ÙÙŠ NBA (Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø±Ø³Ù…ÙŠ Ø¨Ø¯ÙˆÙ† ØªÙˆÙ‚ÙØ§Øª)ØŸ", "a": "48 Ø¯Ù‚ÙŠÙ‚Ø©"}, {"cat": "Ø±ÙŠØ§Ø¶Ø© Ø¹Ø§Ù…Ø©", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø°ÙŠ ÙŠÙ‚ÙŠØ³ Ø§Ù„Ù‚Ø¯Ø±Ø© Ø§Ù„Ù‡ÙˆØ§Ø¦ÙŠØ© ÙˆÙŠÙØ¹Ø±Ù Ø¨Ù€ Beep TestØŸ", "a": "Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø¬Ø±ÙŠ Ø§Ù„Ù…ØªØ¯Ø±Ø¬"}, {"cat": "Ø¬ØºØ±Ø§ÙÙŠØ§", "pts": 200, "q": "Ù…Ø§ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø¥Ù…Ø§Ø±Ø§ØªØŸ", "a": "Ø£Ø¨ÙˆØ¸Ø¨ÙŠ"}, {"cat": "Ø¬ØºØ±Ø§ÙÙŠØ§", "pts": 200, "q": "Ù…Ø§ Ø¹Ø§ØµÙ…Ø© Ø§Ù„Ø³Ø¹ÙˆØ¯ÙŠØ©ØŸ", "a": "Ø§Ù„Ø±ÙŠØ§Ø¶"}, {"cat": "Ø¬ØºØ±Ø§ÙÙŠØ§", "pts": 400, "q": "Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø§ØµÙ…Ø© Ù„Ø£ÙŠ Ø¯ÙˆÙ„Ø©ØŸ Ø¹Ù…Ù‘Ø§Ù†", "a": "Ø§Ù„Ø£Ø±Ø¯Ù†"}, {"cat": "Ø¬ØºØ±Ø§ÙÙŠØ§", "pts": 400, "q": "Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ø§ØµÙ…Ø© Ù„Ø£ÙŠ Ø¯ÙˆÙ„Ø©ØŸ Ø§Ù„Ø±Ø¨Ø§Ø·", "a": "Ø§Ù„Ù…ØºØ±Ø¨"}, {"cat": "Ø¬ØºØ±Ø§ÙÙŠØ§", "pts": 600, "q": "Ø§Ø®ØªØ± Ø¹Ø§ØµÙ…Ø© Ø§Ù„ÙŠØ§Ø¨Ø§Ù†: Ø·ÙˆÙƒÙŠÙˆ, Ø³ÙŠÙˆÙ„, Ø¨ÙƒÙŠÙ†, Ù‡Ø§Ù†ÙˆÙŠ", "a": "Ø·ÙˆÙƒÙŠÙˆ"}, {"cat": "Ø¬ØºØ±Ø§ÙÙŠØ§", "pts": 600, "q": "Ø§Ø®ØªØ± Ø¹Ø§ØµÙ…Ø© Ø£Ø³ØªØ±Ø§Ù„ÙŠØ§: ÙƒØ§Ù†Ø¨Ø±Ø§, Ø³ÙŠØ¯Ù†ÙŠ, Ù…Ù„Ø¨ÙˆØ±Ù†, Ø¨ÙŠØ±Ø«", "a": "ÙƒØ§Ù†Ø¨Ø±Ø§"}, {"cat": "ØªØ§Ø±ÙŠØ®", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„ØªÙŠ ÙƒØ§Ù†Øª ØªÙØ¹Ø±Ù Ø¨Ø§Ø³Ù… Ø§Ù„Ù‚Ø³Ø·Ù†Ø·ÙŠÙ†ÙŠØ©ØŸ", "a": "Ø¥Ø³Ø·Ù†Ø¨ÙˆÙ„"}, {"cat": "ØªØ§Ø±ÙŠØ®", "pts": 200, "q": "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø±Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØºØ±Ø¨ÙŠ Ø§Ù„Ø´Ù‡ÙŠØ±ØŸ", "a": "Ø§Ø¨Ù† Ø¨Ø·ÙˆØ·Ø©"}, {"cat": "ØªØ§Ø±ÙŠØ®", "pts": 400, "q": "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø¨Ø¯Ø£Øª Ø§Ù„Ø­Ø±Ø¨ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„Ø«Ø§Ù†ÙŠØ©ØŸ", "a": "1939"}, {"cat": "ØªØ§Ø±ÙŠØ®", "pts": 400, "q": "ÙÙŠ Ø£ÙŠ Ø³Ù†Ø© Ø³Ù‚Ø·Øª ØºØ±Ù†Ø§Ø·Ø©ØŸ", "a": "1492"}, {"cat": "ØªØ§Ø±ÙŠØ®", "pts": 600, "q": "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ø°ÙŠ ÙØªØ­ Ø§Ù„Ù‚Ø³Ø·Ù†Ø·ÙŠÙ†ÙŠØ© Ø¹Ø§Ù… 1453ØŸ", "a": "Ù…Ø­Ù…Ø¯ Ø§Ù„ÙØ§ØªØ­"}, {"cat": "ØªØ§Ø±ÙŠØ®", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø±ÙƒØ© Ø§Ù„ØªÙŠ Ù‡ÙØ²Ù… ÙÙŠÙ‡Ø§ Ù†Ø§Ø¨Ù„ÙŠÙˆÙ† Ø¹Ø§Ù… 1815ØŸ", "a": "ÙˆØ§ØªØ±Ù„Ùˆ"}, {"cat": "Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©", "pts": 200, "q": "Ù…Ø§ Ø§Ø³Ù… Ø£ÙƒØ¨Ø± Ù…Ø­ÙŠØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶ØŸ", "a": "Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦"}, {"cat": "Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©", "pts": 200, "q": "Ù…Ø§ Ø§Ù„ØºØ§Ø² Ø§Ù„Ø°ÙŠ Ù†ØªÙ†ÙØ³Ù‡ ÙˆÙŠÙØ±Ù…Ø² Ù„Ù‡ Ø¨Ù€ O2ØŸ", "a": "Ø§Ù„Ø£ÙƒØ³Ø¬ÙŠÙ†"}, {"cat": "Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©", "pts": 400, "q": "Ù…Ø§ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø±Ù…Ø²Ù‡ AuØŸ", "a": "Ø§Ù„Ø°Ù‡Ø¨"}, {"cat": "Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©", "pts": 400, "q": "ÙƒÙ… Ø¹Ø¯Ø¯ Ø£Ù„ÙˆØ§Ù† Ù‚ÙˆØ³ Ù‚Ø²Ø­ØŸ", "a": "7"}, {"cat": "Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©", "pts": 600, "q": "Ù…Ø§ Ø§Ø³Ù… Ø£ÙƒØ¨Ø± Ø¹Ø¶Ùˆ ÙÙŠ Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†ØŸ", "a": "Ø§Ù„Ø¬Ù„Ø¯"}, {"cat": "Ø«Ù‚Ø§ÙØ© Ø¹Ø§Ù…Ø©", "pts": 600, "q": "Ù…Ù† Ù‡Ùˆ Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø°ÙŠ ÙˆØ¶Ø¹ Ù‚Ø§Ù†ÙˆÙ† Ø§Ù„Ø¬Ø§Ø°Ø¨ÙŠØ© Ø§Ù„ÙƒÙˆÙ†ÙŠØ©ØŸ", "a": "Ø¥Ø³Ø­Ø§Ù‚ Ù†ÙŠÙˆØªÙ†"}];

const K_BANK="seenjeem_bank_v5";
const K_USED="seenjeem_used_v5";
const K_SCORE="seenjeem_score_v5";
const K_NAMES="seenjeem_names_v5";

function toast(msg) {
  const el=document.getElementById("toast");
  el.textContent=msg;
  el.classList.add("show");
  clearTimeout(window.__toast);
  window.__toast=setTimeout(()=>el.classList.remove("show"),2600);
}

function loadBank() {
  try { const raw=localStorage.getItem(K_BANK); if(raw) return JSON.parse(raw); } catch(e) {}
  localStorage.setItem(K_BANK, JSON.stringify(DEFAULT_BANK));
  return DEFAULT_BANK;
}
function saveBank(b) { localStorage.setItem(K_BANK, JSON.stringify(b)); }

function loadUsed() { try { return new Set(JSON.parse(localStorage.getItem(K_USED)||"[]")); } catch(e) { return new Set(); } }
function saveUsed(s) { localStorage.setItem(K_USED, JSON.stringify(Array.from(s))); }

function loadScore() { try { return JSON.parse(localStorage.getItem(K_SCORE)||'{"s1":0,"s2":0}'); } catch(e) { return {s1:0,s2:0}; } }
function saveScore(s) { localStorage.setItem(K_SCORE, JSON.stringify(s)); }

function loadNames() {
  try { return JSON.parse(localStorage.getItem(K_NAMES)||'{"t1":"Ø§Ù„ÙØ±ÙŠÙ‚ 1","t2":"Ø§Ù„ÙØ±ÙŠÙ‚ 2"}'); }
  catch(e) { return {t1:"Ø§Ù„ÙØ±ÙŠÙ‚ 1", t2:"Ø§Ù„ÙØ±ÙŠÙ‚ 2"}; }
}
function saveNames(n) { localStorage.setItem(K_NAMES, JSON.stringify(n)); }

function qKey(q) {
  const n=(x)=>String(x||"").trim().toLowerCase().replace(/\s+/g," ");
  return `${n(q.cat)}|${q.pts}|${n(q.q)}`;
}

let BANK=loadBank();
let USED=loadUsed();
let SCORE=loadScore();
let NAMES=loadNames();

const bankCountEl=document.getElementById("bankCount");
const catCountEl=document.getElementById("catCount");
bankCountEl.textContent=BANK.length;

function categories() {
  return Array.from(new Set(BANK.map(q=>q.cat))).sort((a,b)=>a.localeCompare(b,'ar'));
}
catCountEl.textContent=categories().length;

const s1El=document.getElementById("s1");
const s2El=document.getElementById("s2");
function renderScores() { s1El.textContent=SCORE.s1; s2El.textContent=SCORE.s2; }
renderScores();

// Team names
const t1Name=document.getElementById("team1Name");
const t2Name=document.getElementById("team2Name");
t1Name.value=NAMES.t1 || "Ø§Ù„ÙØ±ÙŠÙ‚ 1";
t2Name.value=NAMES.t2 || "Ø§Ù„ÙØ±ÙŠÙ‚ 2";
function syncNameButtons() {
  document.getElementById("team1Pick").textContent=t1Name.value.trim() || "Ø§Ù„ÙØ±ÙŠÙ‚ 1";
  document.getElementById("team2Pick").textContent=t2Name.value.trim() || "Ø§Ù„ÙØ±ÙŠÙ‚ 2";
}
syncNameButtons();

[t1Name,t2Name].forEach((inp)=>{
  inp.addEventListener("input", ()=>{
    NAMES = {t1: t1Name.value, t2: t2Name.value};
    saveNames(NAMES);
    syncNameButtons();
  });
});

// Quick score adjust buttons
function clampScore(x) { return Math.max(0, x); }
document.getElementById("t1Minus").onclick=()=>{ SCORE.s1=clampScore(SCORE.s1-200); saveScore(SCORE); renderScores(); };
document.getElementById("t1Plus").onclick=()=>{ SCORE.s1+=200; saveScore(SCORE); renderScores(); };
document.getElementById("t1Reset").onclick=()=>{ SCORE.s1=0; saveScore(SCORE); renderScores(); };
document.getElementById("t2Minus").onclick=()=>{ SCORE.s2=clampScore(SCORE.s2-200); saveScore(SCORE); renderScores(); };
document.getElementById("t2Plus").onclick=()=>{ SCORE.s2+=200; saveScore(SCORE); renderScores(); };
document.getElementById("t2Reset").onclick=()=>{ SCORE.s2=0; saveScore(SCORE); renderScores(); };

// Category selector
const catsEl=document.getElementById("cats");
let selected=new Set();
const ptsLevels=[200,200,400,400,600,600];

function countBy(cat) { return BANK.filter(q=>q.cat===cat).length; }

function updateSelHint() {
  const n=selected.size;
  const el=document.getElementById("selHint");
  if(n<3) el.textContent=`Ø§Ø®ØªØ± ${3-n} ØªØµÙ†ÙŠÙ/ØªØµÙ†ÙŠÙØ§Øª Ø¥Ø¶Ø§ÙÙŠØ©`;
  else if(n>6) el.textContent=`Ø´ÙŠÙ„ ${n-6} ØªØµÙ†ÙŠÙ/ØªØµÙ†ÙŠÙØ§Øª`;
  else el.textContent=`Ø¬Ø§Ù‡Ø² âœ… (Ù…Ø­Ø¯Ø¯: ${n})`;
}

function renderCats() {
  catsEl.innerHTML="";
  categories().forEach(cat=>{
    const lab=document.createElement("label");
    lab.className="cat";
    lab.innerHTML=`
      <input type="checkbox"/>
      <div>
        <div class="catTitle">${cat}</div>
        <div class="catMeta">${countBy(cat)} Ø³Ø¤Ø§Ù„</div>
      </div>
    `;
    const cb=lab.querySelector("input");
    cb.checked=selected.has(cat);
    cb.addEventListener("change",()=>{ cb.checked?selected.add(cat):selected.delete(cat); updateSelHint(); });
    catsEl.appendChild(lab);
  });
  updateSelHint();
}
renderCats();

// Board
const boardEl=document.getElementById("board");
let boardState=null;

function escapeHtml(s) {
  return String(s).replace(/[&<>"']/g,m=>({"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&#39;"}[m]));
}

function renderBoard() {
  if(!boardState) { boardEl.innerHTML="<tr><th>Ø§Ø®ØªØ± ØªØµÙ†ÙŠÙØ§Øª Ø«Ù… Ø§Ø¶ØºØ· Â«Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©Â»</th></tr>"; return; }
  const cats=boardState.cats;
  let html="<tr>"+cats.map(c=>`<th>${escapeHtml(c)}</th>`).join("")+"</tr>";
  for(let r=0;r<ptsLevels.length;r++) {
    html+="<tr>";
    for(let c=0;c<cats.length;c++) {
      const cell=boardState.cells[c][r];
      const cls=cell.used?"cellUsed":"";
      html+=`<td class="${cls}"><button class="cellBtn" data-c="${c}" data-r="${r}" ${cell.used?"disabled":""}>${cell.pts}</button></td>`;
    }
    html+="</tr>";
  }
  boardEl.innerHTML=html;
}

function pickQuestion(cat, pts) {
  const pool=BANK.filter(q=>q.cat===cat && q.pts===pts);
  const avail=pool.filter(q=>!USED.has(qKey(q)));
  if(pool.length===0) return {q:null, exhausted:false};
  if(avail.length===0) return {q:pool[Math.floor(Math.random()*pool.length)], exhausted:true};
  return {q:avail[Math.floor(Math.random()*avail.length)], exhausted:false};
}

function newGame() {
  const cats=Array.from(selected);
  boardState={cats, cells: cats.map(cat=>ptsLevels.map(pts=>({cat,pts,used:false}))) };
  renderBoard();
  toast("Ø¬Ø§Ù‡Ø² âœ… Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø±Ù‚Ù… Ù…Ù† Ø§Ù„Ø¬Ø¯ÙˆÙ„");
}

// Event delegation for iOS reliability
boardEl.addEventListener("click",(e)=>{
  const btn=e.target.closest(".cellBtn");
  if(!btn || !boardState) return;
  const c=parseInt(btn.dataset.c,10), r=parseInt(btn.dataset.r,10);
  openCell(c,r);
});

// Modals logic
const qModal=document.getElementById("qModal");
const tModal=document.getElementById("tModal");
const qMeta=document.getElementById("qMeta");
const qText=document.getElementById("qText");
const aText=document.getElementById("aText");
const warn=document.getElementById("warn");
const timerEl=document.getElementById("timer");
const clockEl=document.getElementById("clock");

let active=null;
let timer=null, remaining=60;

function startTimer() {
  stopTimer();
  remaining=60;
  timerEl.textContent=remaining;
  clockEl.textContent=remaining;
  timer=setInterval(()=>{
    remaining--;
    timerEl.textContent=remaining;
    clockEl.textContent=remaining;
    if(remaining<=0) {
      stopTimer();
      toast("Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª â±ï¸");
    }
  },1000);
}
function stopTimer() { if(timer) clearInterval(timer); timer=null; }

function openCell(c,r) {
  const cell=boardState.cells[c][r];
  if(cell.used) return;
  const picked=pickQuestion(cell.cat, cell.pts);
  if(!picked.q) { toast("Ù…Ø§ ÙÙŠ Ø£Ø³Ø¦Ù„Ø© Ù„Ù‡Ø§Ù„Ù†Ù‚Ø§Ø· ÙÙŠ Ù‡Ø§Ù„ØªØµÙ†ÙŠÙ."); return; }
  active={c,r, cell, q:picked.q};
  qMeta.textContent=`${cell.cat} â€” ${cell.pts}`;
  qText.textContent=picked.q.q;
  aText.textContent="Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©: "+picked.q.a;
  aText.classList.remove("show");
  warn.textContent=picked.exhausted ? "ØªÙ†Ø¨ÙŠÙ‡: Ø£Ø³Ø¦Ù„Ø© Ù‡Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø®Ù„ØµØªØŒ Ù‚Ø¯ ÙŠØ¹ÙŠØ¯ Ø³Ø¤Ø§Ù„." : "";
  qModal.classList.add("show");
  startTimer();
}

function closeQ() { qModal.classList.remove("show"); stopTimer(); active=null; }
document.getElementById("btnClose").onclick=closeQ;
qModal.addEventListener("click",(e)=>{ if(e.target===qModal) closeQ(); });

document.getElementById("btnShow").onclick=()=>aText.classList.toggle("show");

function markUsed() {
  const cell=boardState.cells[active.c][active.r];
  cell.used=true;
  USED.add(qKey(active.q));
  saveUsed(USED);
  renderBoard();
}

document.getElementById("btnCorrect").onclick=()=>{ if(!active) return; syncNameButtons(); tModal.classList.add("show"); };
document.getElementById("btnWrong").onclick=()=>{ if(!active) return; markUsed(); closeQ(); };

function closeT() { tModal.classList.remove("show"); }
document.getElementById("btnTeamClose").onclick=closeT;
tModal.addEventListener("click",(e)=>{ if(e.target===tModal) closeT(); });

function award(team) {
  if(!active) return;
  const pts=active.cell.pts;
  if(team===1) SCORE.s1+=pts; else if(team===2) SCORE.s2+=pts;
  saveScore(SCORE); renderScores();
  markUsed();
  closeT(); closeQ();
}
document.getElementById("team1Pick").onclick=()=>award(1);
document.getElementById("team2Pick").onclick=()=>award(2);
document.getElementById("teamCancel").onclick=closeT;

// Keyboard shortcuts
document.addEventListener("keydown",(e)=>{
  if(e.key==="Escape") {
    if(tModal.classList.contains("show")) closeT();
    else if(qModal.classList.contains("show")) closeQ();
  }
});

// Start buttons
document.getElementById("btnStart").onclick=()=>{
  const n=selected.size;
  if(n<3 || n>6) { toast("Ù„Ø§Ø²Ù… ØªØ®ØªØ§Ø± Ù…Ù† 3 Ø¥Ù„Ù‰ 6 ØªØµÙ†ÙŠÙØ§Øª."); return; }
  newGame();
};
document.getElementById("btnNew").onclick=()=>{
  const n=selected.size;
  if(n<3 || n>6) { toast("Ø§Ø®ØªØ± Ù…Ù† 3 Ø¥Ù„Ù‰ 6 ØªØµÙ†ÙŠÙØ§Øª."); return; }
  newGame();
};

// Import/Export/Clear
document.getElementById("btnImport").onclick=()=>document.getElementById("fileInput").click();
document.getElementById("fileInput").addEventListener("change", async (e)=>{
  const f=e.target.files && e.target.files[0]; if(!f) return;
  try {
    const data=JSON.parse(await f.text());
    if(!Array.isArray(data)) throw new Error("Ø§Ù„Ù…Ù„Ù Ù„Ø§Ø²Ù… ÙŠÙƒÙˆÙ† Array");
    const cleaned=data
      .filter(x=>x && typeof x.cat==="string" && typeof x.q==="string" && typeof x.a==="string" && Number.isFinite(x.pts))
      .map(x=>({cat:x.cat, pts:Number(x.pts), q:x.q, a:x.a}));
    if(cleaned.length<20) throw new Error("Ø§Ù„Ù…Ù„Ù ØµØºÙŠØ±.");
    saveBank(cleaned); BANK=cleaned;
    bankCountEl.textContent=BANK.length;
    catCountEl.textContent=categories().length;
    selected=new Set();
    boardState=null;
    renderCats();
    renderBoard();
    toast("ØªÙ… Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ âœ…");
  } catch(err) {
    toast("ÙØ´Ù„ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯: "+err.message);
  } finally {
    e.target.value="";
  }
});

document.getElementById("btnExport").onclick=()=>{
  const blob=new Blob([JSON.stringify(BANK,null,2)],{type:"application/json"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="seenjeem_bank_export.json";
  document.body.appendChild(a); a.click(); a.remove();
};

document.getElementById("btnClear").onclick=()=>{
  if(!confirm("Ø£ÙƒÙŠØ¯ ØªØ¨ÙŠ ØªÙ…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ")) return;
  localStorage.removeItem(K_BANK);
  localStorage.removeItem(K_USED);
  localStorage.removeItem(K_SCORE);
  localStorage.removeItem(K_NAMES);
  BANK=loadBank(); USED=loadUsed(); SCORE=loadScore(); NAMES=loadNames();
  bankCountEl.textContent=BANK.length;
  catCountEl.textContent=categories().length;
  renderScores();
  t1Name.value=NAMES.t1; t2Name.value=NAMES.t2;
  syncNameButtons();
  selected=new Set();
  boardState=null;
  renderCats();
  renderBoard();
  toast("ØªÙ… Ø§Ù„Ù…Ø³Ø­ âœ…");
};

renderBoard();
</script>
</body>
</html>
